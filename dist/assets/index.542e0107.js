import{d as e,r as s,c as t,o as a,a as l,b as r,w as o,e as n,f as i,v as d,t as m,g as c,h as u,i as p,j as f,F as h,k as x,l as w,m as g,n as b,p as y,q as v}from"./vendor.38adf592.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)})).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerpolicy&&(s.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?s.credentials="include":"anonymous"===e.crossorigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();var E=e({name:"App",components:{},mounted(){let e=localStorage.getItem("currentUser");null!=e&&this.$store.dispatch("signIn",{email:e})}});E.render=function(e,l){const r=s("router-view");return a(),t(r)};var k="/assets/logo.bffbf97c.png";const P={},N={class:"flex items-center justify-center h-screen w-screen"},U=n("img",{class:"h-80 w-80",src:k,alt:""},null,-1);P.render=function(e,t){const n=s("router-link");return a(),l("div",N,[r(n,{to:"/sign-up"},{default:o((()=>[U])),_:1})])};const S={name:"sign-up",data:()=>({fields:{name:"",email:"",password:"",confirmedPassword:"",role:""},fieldsErrors:{name:null,email:null,password:null,confirmedPassword:null,role:null}}),methods:{submitForm(){this.fieldsErrors=this.validateForm(this.fields),Object.keys(this.fieldsErrors).length||this.$store.dispatch("signUp",this.fields)},validateForm(e){const s={};return e.name||(s.name="New name required"),e.email||(s.email="New email required"),e.password||(s.password="New password required"),e.password&&!e.confirmedPassword&&(s.confirmedPassword="Repeat password please"),e.password||e.confirmedPassword||(s.confirmedPassword="New password required"),e.email&&!this.isEmail(e.email)&&(s.email="Invalid Email"),e.password&&!this.isPassword(e.password)&&(s.password="Invalid Password"),e.password&&this.isPassword(e.password)&&(e.password.length<8||e.password.length>12)&&(s.password="Please enter 8-12 characters"),e.confirmedPassword&&e.confirmedPassword!==e.password&&(s.confirmedPassword="Passwords mismath"),e.role||(s.role="Please select your role"),s},isEmail:e=>/\S+@\S+\.\S+/.test(e),isPassword:e=>/[a-zA-Z0-9]/.test(e)}},F={class:"flex flex-col items-center bg-gray-100 min-h-screen"},I=n("img",{class:"h-40 w-40 md:h-60 md:w-80",src:k,alt:""},null,-1),O={class:"flex flex-col mb-4"},$=n("label",{class:"mb-1 text-sky-600"},"Name",-1),C={class:"text-red-500"},L={class:"flex flex-col mb-4"},V=n("label",{class:"mb-1 text-sky-600"},"Email",-1),j={class:"text-red-500"},q={class:"flex flex-col mb-4"},_=n("label",{class:"mb-1 text-sky-600"},"Password",-1),A={class:"text-red-500"},D={class:"flex flex-col mb-4"},B=n("label",{class:"mb-1 text-sky-600"},"Password confirm",-1),M={class:"text-red-500"},R={class:"flex items-center text-gray-400 text-sm mb-2"},G={class:"mr-4"},W=n("label",{for:"coach"},"Coach",-1),z=n("label",{for:"mentee"},"Mentee",-1),K={class:"text-red-500"},T=n("div",{class:"flex flex-col"},[n("button",{class:"rounded-md bg-green-400 text-white font-medium p-2"}," Create your account ")],-1),Z={class:"mt-3 flex"},H=p("Log in"),J=n("p",{class:"text-gray-400"},"(if you already have an account)",-1);S.render=function(e,t,p,f,h,x){const w=s("router-link");return a(),l("div",F,[I,n("form",{class:"flex flex-col bg-white py-6 px-6 font-medium w-72 md:w-600",onSubmit:t[6]||(t[6]=u(((...e)=>x.submitForm&&x.submitForm(...e)),["prevent"]))},[n("div",O,[$,i(n("input",{type:"text",placeholder:"Enter your name",class:"border rounded-md p-2 text-sm","onUpdate:modelValue":t[0]||(t[0]=e=>h.fields.name=e)},null,512),[[d,h.fields.name]]),n("span",C,m(h.fieldsErrors.name),1)]),n("div",L,[V,i(n("input",{type:"text",placeholder:"Enter your email adress",class:"border rounded-md p-2 text-sm","onUpdate:modelValue":t[1]||(t[1]=e=>h.fields.email=e)},null,512),[[d,h.fields.email]]),n("span",j,m(h.fieldsErrors.email),1)]),n("div",q,[_,i(n("input",{type:"text",placeholder:"Enter your password",class:"border rounded-md p-2 text-sm","onUpdate:modelValue":t[2]||(t[2]=e=>h.fields.password=e)},null,512),[[d,h.fields.password]]),n("span",A,m(h.fieldsErrors.password),1)]),n("div",D,[B,i(n("input",{type:"text",placeholder:"Confirm your password",class:"border rounded-md p-2 text-sm","onUpdate:modelValue":t[3]||(t[3]=e=>h.fields.confirmedPassword=e)},null,512),[[d,h.fields.confirmedPassword]]),n("span",M,m(h.fieldsErrors.confirmedPassword),1)]),n("div",R,[n("div",G,[i(n("input",{type:"radio",value:"coach",id:"coach",name:"radio","onUpdate:modelValue":t[4]||(t[4]=e=>h.fields.role=e),class:"mr-1"},null,512),[[c,h.fields.role]]),W]),n("div",null,[i(n("input",{type:"radio",value:"student",id:"mentee",name:"radio","onUpdate:modelValue":t[5]||(t[5]=e=>h.fields.role=e),class:"mr-1"},null,512),[[c,h.fields.role]]),z])]),n("span",K,m(h.fieldsErrors.role),1),T],32),n("div",Z,[r(w,{class:"text-sky-400 font-medium",to:"/sign-in"},{default:o((()=>[H])),_:1}),J])])};var Q=[{role:"student",firstName:"Ivan",email:"first@email.com"},{role:"student",firstName:"Oleg",email:"second@email.com"},{role:"coach",firstName:"Timofey",email:"third@email.com"}];function X(e){try{for(let s of Q)if(s.email==e.email)return localStorage.setItem("currentUser",s.email),s}catch(s){return!1}}function Y(e){f.post("/api/auth/users",e={name:e.name,email:e.email,password1:e.password,password2:e.confirmedPassword,role:e.role}).then((e=>{console.log(e)})).catch((e=>{console.log(e)}))}const ee={name:"sign-in",data:()=>({fields:{name:"",email:"",password:""},fieldsErrors:{name:null,email:null,password:null,message:null}}),methods:{submitForm(){this.fieldsErrors=this.validateForm(this.fields),Object.keys(this.fieldsErrors).length||this.$store.dispatch("signIn",this.fields)},validateForm(e){const s={};return e.email||(s.email="Email required"),e.password||(s.password="Password required"),e.password&&(e.password.length<8||e.password.length>12)&&(s.password="Please enter 8-12 characters"),void 0===X(e)&&(s.message="Authentication Error"),s}}},se={class:"flex flex-col items-center bg-gray-100 min-h-screen"},te=n("img",{class:"h-40 w-40 md:h-60 md:w-80",src:k,alt:""},null,-1),ae={class:"flex flex-col mb-4"},le=n("label",{class:"mb-1 text-sky-600"},"Email",-1),re={class:"text-red-500"},oe={class:"flex flex-col mb-4"},ne=n("label",{class:"mb-1 text-sky-600"},"Password",-1),ie={class:"text-red-500"},de=n("div",{class:"flex flex-col"},[n("button",{class:"rounded-md bg-green-400 text-white font-medium p-2"},"Start your work ")],-1),me={class:"text-red-500 mt-2"};ee.render=function(e,s,t,r,o,c){return a(),l("div",se,[te,n("form",{class:"flex flex-col bg-white py-6 px-6 font-medium w-72 md:w-600",onSubmit:s[2]||(s[2]=u(((...e)=>c.submitForm&&c.submitForm(...e)),["prevent"]))},[n("div",ae,[le,i(n("input",{type:"text",placeholder:"Enter your email adress",class:"border rounded-md p-2 text-sm","onUpdate:modelValue":s[0]||(s[0]=e=>o.fields.email=e)},null,512),[[d,o.fields.email]]),n("span",re,m(o.fieldsErrors.email),1)]),n("div",oe,[ne,i(n("input",{type:"text",placeholder:"Enter your password",class:"border rounded-md p-2 text-sm","onUpdate:modelValue":s[1]||(s[1]=e=>o.fields.password=e)},null,512),[[d,o.fields.password]]),n("span",ie,m(o.fieldsErrors.password),1)]),de,n("span",me,m(o.fieldsErrors.message),1)],32)])};var ce={"student-1":{email:"Rich@rambler.ru",firstName:"Rich",lastName:"Froning",status:"invited"},"student-2":{email:"Dan@rambler.ru",firstName:"Dan",lastName:"Bailey",status:"invited"},"student-3":{email:"Ben@rambler.ru",firstName:"Ben",lastName:"Smith",status:"invited"}},ue={name:"coach-panel",data:()=>({inputEmail:""}),computed:{email(){return this.$store.state.auth.email},students(){return this.$store.state.students.students},name(){return this.$store.state.auth.name}},methods:{logout(){this.$store.dispatch("signOut")},addNewStudent(){}},mounted(){this.students=ce,this.$store.dispatch("addStudent",ce)}};const pe={class:"flex flex-col bg-gray-100 min-h-screen px-2 py-3"},fe={class:"flex items-center justify-between bg-white rounded-sm py-2 px-2 font-medium mb-4 shadow-sm"},he=n("p",{class:"text-sky-600 font-bold"},"LOGO",-1),xe={class:"flex"},we={class:"text-gray-500 mr-4"},ge=p("Logout"),be={class:"flex flex-col container mx-auto items-start bg-white rounded-sm py-6 px-6 shadow-lg w-3/4"},ye={class:"text-2xl text-gray-700 font-bold mb-6"},ve=n("p",{class:"text-sm font-medium text-gray-500 mb-4"},"list of students",-1),Ee={key:0,class:"table-auto w-full mb-4"},ke=n("thead",{class:"text-xs font-semibold uppercase text-gray-400"},[n("tr",null,[n("th",{class:"p-2 text-left"},"email"),n("th",{class:"p-2 text-left"},"firstname"),n("th",{class:"p-2 text-left"},"lastname"),n("th",{class:"p-2 text-left"},"status")])],-1),Pe={class:"text-sm divide-y divide-gray-100"},Ne={class:"p-2"},Ue={class:"p-2"},Se={class:"p-2"},Fe={class:"p-2"};ue.render=function(e,t){const c=s("router-link");return a(),l("div",pe,[n("div",fe,[he,n("div",xe,[n("p",we,m(e.email),1),r(c,{to:"/sign-in",onClick:e.logout},{default:o((()=>[ge])),_:1},8,["onClick"])])]),n("div",be,[n("p",ye,"Welcome to CoachDiary, "+m(e.name)+"!",1),ve,n("div",null,[0!==e.students.length?(a(),l("table",Ee,[ke,n("tbody",Pe,[(a(!0),l(h,null,x(e.students,(e=>(a(),l("tr",null,[n("td",Ne,m(e.email),1),n("td",Ue,m(e.firstName),1),n("td",Se,m(e.lastName),1),n("td",Fe,m(e.status),1)])))),256))])])):w("",!0),i(n("input",{type:"text",placeholder:"student email",class:"text-sm border rounded-md p-2 mr-2 mb-2","onUpdate:modelValue":t[0]||(t[0]=s=>e.inputEmail=s)},null,512),[[d,e.inputEmail]]),n("button",{onClick:t[1]||(t[1]=(...s)=>e.addNewStudent&&e.addNewStudent(...s)),class:"rounded-md bg-sky-400 text-white font-medium px-6 py-2 w-auto"},"Add your student ")])])])};const Ie={name:"mentee-panel",data:()=>({inputEmail:"",firstName:"",lastName:""}),computed:{email(){return this.$store.state.auth.email},name(){return this.$store.state.auth.name}},methods:{logout(){this.$store.dispatch("signOut")}}},Oe={class:"flex flex-col bg-gray-100 min-h-screen px-2 py-3"},$e={class:"flex items-center justify-between bg-white rounded-sm py-2 px-2 font-medium mb-4 shadow-sm"},Ce=n("p",{class:"text-sky-600 font-bold"},"LOGO",-1),Le={class:"flex"},Ve={class:"text-gray-500 mr-4"},je=p("Logout"),qe={class:"flex flex-col container mx-auto items-start bg-white rounded-sm py-6 px-6 shadow-lg w-3/4"},_e={class:"text-2xl text-gray-700 font-bold mb-6"};Ie.render=function(e,t,i,d,c,u){const p=s("router-link");return a(),l("div",Oe,[n("div",$e,[Ce,n("div",Le,[n("p",Ve,m(u.email),1),r(p,{to:"/sign-in",onClick:u.logout},{default:o((()=>[je])),_:1},8,["onClick"])])]),n("div",qe,[n("p",_e,"Welcome to CoachDiary, "+m(u.name)+"!",1)])])};const Ae={name:"not-found"},De={class:"flex flex-col items-center justify-center h-screen"},Be=[n("h1",{class:"text-2xl mb-2 font-medium text-gray-700"},"Sorry. Page Not Found :(",-1),n("p",{class:"text-gray-700"},"Use the navigation links above to navigate between the real pages.",-1)];Ae.render=function(e,s,t,r,o,n){return a(),l("div",De,Be)};const Me=[{path:"/",component:P},{path:"/sign-up",component:S},{path:"/sign-in",component:ee},{path:"/coach-panel",component:ue},{path:"/mentee-panel",component:Ie},{path:"/:pathMatch(.*)*",component:Ae}],Re=g({history:b(),routes:Me});const Ge={name:"",email:"",password:""};var We=y({modules:{auth:{state:Ge,mutations:{setupUser(e,s){e.email=s.email,e.password=s.password,e.name=s.name},cleanupUser(e){e.email="",e.password="",e.name="",localStorage.removeItem("currentUser")}},actions:{signUp(e,s){Y(s),console.log(s),console.log(Y(s)),"coach"==s.role?(e.commit("setupUser",s),Re.push("/coach-panel")):"student"==s.role&&(e.commit("setupUser",s),Re.push("/mentee-panel"))},signIn(e,s){s.name=X(s).firstName,"coach"==X(s).role?(e.commit("setupUser",s),Re.push("/coach-panel")):"student"==X(s).role&&(e.commit("setupUser",s),Re.push("/mentee-panel"))},signOut(e){e.commit("cleanupUser")}},getters:{userIsLoggedIn:()=>""!==Ge.email}},students:{state:{students:[]},mutations:{add_student(e,s){e.students=s}},actions:{addStudent(e,s){e.commit("add_student",s)}},getters:{}}}});const ze=v(E);ze.use(Re),ze.use(We),ze.mount("#app");
